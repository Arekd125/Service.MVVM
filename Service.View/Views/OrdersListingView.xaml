<UserControl
    x:Class="Service.View.Views.OrdersListingView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Service.View.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
    xmlns:Dialog="clr-namespace:MahApps.Metro.Controls.Dialogs;assembly=MahApps.Metro"
    Dialog:DialogParticipation.Register="{Binding}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <DataGrid
        Grid.Column="1"
        Margin="10"

        HorizontalAlignment="Left"
        AutoGenerateColumns="False"
        BorderThickness="1"
        CanUserAddRows="False"
        GridLinesVisibility="All"
        IsReadOnly="True"
        ItemsSource="{Binding OrdersViewModelCollection}"
        SelectedIndex="{Binding OrdersViewModelSelectedIndex}"
        SelectionMode="Single">

        <DataGrid.Columns>
            <DataGridTextColumn

                Binding="{Binding Path=OrderName}"
                Header="nr zlecenie" />
            <DataGridTextColumn

                Binding="{Binding Path=StartData}"
                Header="Data" />
            <DataGridTextColumn

                Binding="{Binding Path=ContactName}"
                Header="Imię i nazwisko" />
            <DataGridTextColumn

                Binding="{Binding Path=ContactPhoneNumber}"
                Header="telefon" />
            <DataGridTextColumn

                Binding="{Binding Path=Device}"
                Header="marka" />
            <DataGridTextColumn

                Binding="{Binding Path=Model}"
                Header="model" />
            <DataGridTemplateColumn Width="auto">
                <DataGridTemplateColumn.CellTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">

                            <Button

                                     Margin="2,0,2,0"
                                    mah:ControlsHelper.ContentCharacterCasing="Upper"
                                    Style="{StaticResource MahApps.Styles.Button.Square.Accent}">
                                <mah:FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE70F;" />
                            </Button>
                            <Button
                                Margin="2,0,2,0"

                                 mah:ControlsHelper.ContentCharacterCasing="Upper"
                                Background="Red"
                                Command="{Binding DataContext.DeleteOrderButton, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                 Style="{StaticResource MahApps.Styles.Button.Square.Accent}">
                                <mah:FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8BB;" />
                            </Button>
                        </StackPanel>
                    </DataTemplate>
                </DataGridTemplateColumn.CellTemplate>
            </DataGridTemplateColumn>
        </DataGrid.Columns>
    </DataGrid>
</UserControl>